<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="wdd.css">
    <link rel="shortcut icon" href="/images/suitcase.png" type="image/x-icon">
    <title>Week 2 Notes</title>
</head>

<body>
    <h1>Chapter 9: The Window Object</h1>
    <div class="wrapWindow">
        <section class="buttons">
            <legend>window.location.href</legend>
            <button onclick="gotoGoogle()">go to google</button>
            <legend>window.location.toString() & window.navigator.userAgent</legend>
            <button onclick="getUseragent()">get userAgent info</button>
            <legend>window.open('URL', 'title', 'dimensions, resizable=yes')</legend>
            <button onclick="newWin()">create new window</button>
            <legend>document.cookie</legend>
            <button onclick="setcookie()">show stored cookies</button>
            <legend>window.setTimeout(execution, timeout in ms)</legend>
            <button onclick="alertTimer()">show alert in 3 seconds</button>
            <legend>'element'.style.transform</legend>
            <button onclick="animateSquare()">animate the <span style="color:#d16">Red</span> square</button>
            <legend>window.requestAnimationFrame()</legend>
            <button onclick="animateSquare2()">animate the <span style="color: cadetblue">Green</span> square</button>
        </section>
        <section class="output">
            <h2>Output</h2>
            <p id="output"></p>
            <p id="outputCookies"></p>
            <div id='square'></div>
            <div id='square2'></div>
        </section>
    </div>
    <section class="summary">
        <h2>Chapter Summary</h2>
        <ul>
            <li>
                The <span class="mono">window</span> object is the global object in a browser.
                Global variables are actually properties of the window object in a
                browser environment.
            </li>
            <li>
                <span class="mono"> alert, confirm(),</span> and <span class="mono">prompt()</span> are all methods of the window object,
                and open dialogs that halt the execution of the program.
            </li>

            <li>
                The <span class="mono">window.navigator</span> object gives information about the user’s
                browser and operating system, although it can be unreliable.
            </li>

            <li>
                The <span class="mono">window.location</span> object provides information about the URL of the
                current page.
            </li>

            <li>
                The <span class="mono">window.history</span> object keeps information about the pages that have
                been visited in the session.
            </li>

            <li>
                You can open, close, resize, and move windows (although, this doesn’t
                mean you should!).
            </li>

            <li>
                The <span class="mono">window.screen</span> object provides information about the user’s screen.
            </li>

            <li>
                <span class="mono">document.write()</span> is an archaic method of writing text to the document
                and should be avoided.
            </li>

            <li>
                Cookies can be used to store small pieces of information between
                requests using the <span class="mono">document.cookie</span> property.
            </li>

            <li>
                The <span class="mono">window.setTimeout()</span> method can be used to invoke a function
                after a set amount of time. It can be canceled using the <span class="mono">clearTimeout()</span>
                method.
            </li>

            <li>
                The <span class="mono">window.setInterval()</span> method can be used to repeatedly invoke a
                function. It can be stopped using the <span class="mono">clearInterval()</span> method.
            </li>

            <li>
                The <span class="mono">window.requestAnimationFrame()</span> method can be used to produce
                smooth and optimized animation by utilizing the browser's built-in
                graphics capabilities. It can be canceled using the
                <span class="mono">cancelAnimationFrame()</span> method.
            </li>

        </ul>
    </section>
    <h1 id="chapter10">Chapter 10: Testing & Debugging</h1>
    <section class="summary">
        <ul>
            <h2>Testing</h2>
            <li>ES5 strict mode: <span class="mono">'use strict'</span> as the 1st line in .js file. Example:</li>
            <pre>
'use strict';
e = 2.718;
<< ReferenceError: e is not defined</pre>
            <pre>
(function() {
    'use strict';
    // All your code would go inside this function
    }());</pre>
            <li>ES6 introduced JavaScript modules. The <span class="mono">'use strict'</span> declaration is not required.</li>
            <li>Linting tools can be used to ensure code follows good practice and conventions</li>
            <li>Feature detection.</li>
            <pre>
if (window.holoDeck) {
virtualReality.activate();
}</pre>
            <h2>Debugging</h2>
                <li>Because <span class="mono">alert()</span> stops a program from
                    running until 'OK' is clicked, it allows us to effectively put breakpoints in the code 
                </li>
                <pre>
function amIOldEnough(age){
    if (age < 12) {
    alert(age);
    return 'No, sorry.';
    } else if (age < 18) {
    return 'Only if you are accompanied by an adult.';
    }
    else {
    return 'Yep, come on in!';
    }
    }</pre>
                <li>The <span class="mono">console.log()</span> & <span class="mono">console.trace()</span> methods</li>
                <li>Browser debugging tools [links to external sources]:
                    <ul>
                        <li><a class="deblinks" href="https://firefox-source-docs.mozilla.org/devtools-user/debugger/index.html">Firefox</a></li>
                        <li><a class="deblinks" href="https://developer.chrome.com/docs/devtools/">Chrome</a></li>
                    </ul>
                </li>
                <li>Using the <span class="mono">debugger</span> command</li>
                <pre>
function amIOldEnough(age){
    debugger;
    if (age < 12) {
    debugger;
    return 'No, sorry.';
    } else if (age < 18) {
    debugger;
    return 'Only if you are accompanied by an adult.';
    } else {
    debugger;
    return 'Yep, come on in!';
    }
    }
    amIOldEnough(16);</pre>
                <h2>Error Object</h2>
                <li>Types of errors</li>
                <ul>
                    <li><span class="mono">RangeError</span>: a number is outside an allowable range</li>
                    <li><span class="mono">ReferenceError</span>: a reference is made to an item that doesn’t exist</li>
                    <li><span class="mono">SyntaxError</span>: error in the code’s syntax</li>
                    <li><span class="mono">TypeError</span>: for example, a string is used when a number is expected</li>
                    <li><span class="mono">URIError</span>: problem with encoding or decoding the URI</li>
                    <li><span class="mono">InternalError</span>: JavaScript engine error</li>
                    <li>Custom error:</li>
                    <pre>
const error = new TypeError('You need to use numbers in this function')</pre>
                </ul>
                <li>Throw an error:</li>
                <pre>
function squareRoot(number) {
    'use strict';
    if (number < 0) {
    throw new RangeError('You can't find the square root of negative number}
    return Math.sqrt(number);
    };</pre>
                <li>Any code placed inside a <span class="mono">try</span> block will pass any error objects to a
                    <span class="mono">catch</span> block when an exception occurs. Any code inside a <span class="mono">finally</span>
                    block will run if an exception does or does not occur.
                    </li>
                <h2>Test-driven development(TDD)</h2>
                <ol>
                    <li>Write tests (that initially fail)</li>
                    <li>Write code to pass the tests</li>
                    <li>Refactor the code</li>
                    <li>Test refactored code</li>
                    <li>Write more tests for new features</li>
                </ol>
                <li>Jest Framework</li>
        </ul>
    </section>
    <script>
        function gotoGoogle() {
            window.location.href = 'https://www.google.com'
        }

        function getUseragent() {
            let location = window.location.toString();
            let useragent = window.navigator.userAgent;
            // window.alert("The UserAgent is: " + x)
            let history = window.history.length;
            let screenH = window.screen.height;
            let screenW = window.screen.width;
            let availScreenW = window.screen.availWidth;
            let availScreenH = window.screen.availHeight;
            document.getElementById('output').innerHTML =
                "<span style='color:tomato; font-size:large'>Current URL: </span>" + location +
                "</br><span style='color:tomato;font-size:large'>Useragent: </span>" +
                useragent;
        }

        function newWin() {
            const popup = window.open('https://google.com', 'gooloogooloo', 'width=800,height=400,resizable=yes');
        }

        function setcookie() {
            const months = ["January", "February", "March", "April", "May", "June", "July", "August", "September",
                "October", "November", "December"
            ];
            document.cookie = 'name=Superman';
            document.cookie = new Date();
            document.getElementById('outputCookies').innerHTML =
                "<span style='color:rgb(194, 106, 194)'>Cookies: </span>" + document.cookie;
        }

        function alertTimer() {
            window.setTimeout(() => alert("3 seconds passed. Here I am ! ;)"), 3000);
        }

        function animateSquare() {
            const squareElement = document.getElementById('square');
            let angle = 0;
            setInterval(() => {
                angle = (angle + 2) % 360;
                squareElement.style.transform = `rotate(${angle}deg)`
            }, 1000 / 60);
        }

        function animateSquare2() {
            const squareElement = document.getElementById('square2');
            let angle = 0;

            function rotate() {
                angle = (angle + 2) % 360;
                squareElement.style.transform = `rotate(${angle}deg)`
                window.requestAnimationFrame(rotate);
            }
            const id = requestAnimationFrame(rotate);
        }
    </script>
    <a href="../index.html">↩ Back to Main</a>
</body>

</html>
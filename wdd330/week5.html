<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="wdd.css">
    <link rel="shortcut icon" href="/images/suitcase.png" type="image/x-icon">
    <title>Week 5 Notes</title>
</head>

<body>
    <section class="summary">
        <h1>Chapter 14: HTML5 APIs</h1>
        <ul>
            <li>The <span class="mono">data- </span>attribute is a way of embedding data in a web page using custom
                attributes that are ignored by the browser. They’re also private to a page, so
                are not intended to be used by an external service – their sole purpose is to be
                used by a JavaScript program.
                <pre>
data-powers = 'flight superSpeed'
data-rating = '5'
data-dropdown
data-user = 'DAZ'
data-max-length = '32'</pre>
            </li>
            <h2>HTML5 APIs</h2>
                    <ul>
                    <h3>HTML5 Web Storage</h3>
                    <li>The Web Storage API provides a key-value store on the client’s computer</li>
                    <li>The Web Storage API has some crucial differences with cookies:</li>
                        <ul>
                            <li>Information stored is not shared with the server on every request.</li>
                            <li>Information is available in multiple windows of the browser</li>
                            <li>Storage capacity limit is much larger than the 4KB limit for cookies
                                (there is no actual limit in the specification, but most browsers have a
                                limit set at 5GB per domain)</li>
                            <li>Any data stored does not automatically expire as it does with cookies.
                                This potentially makes cookies a better choice for something like
                                showing a popup once a day</li>
                        </ul>
                    <pre>
<span class="mono">Set:</span>
localStorage.setItem('name', 'Walter White');
<span class="mono">Assign and Obtain:</span>
localStorage.name = 'Heisenberg';
console.log(localStorage.name);
<< "Heisenberg";
<span class="mono">Delete:</span>
localStorage.removeItem('name');
<span class="mono">or</span>
delete localStorage.name;
<span class="mono">Clear the whole storage:</span>
localStorage.clear();</pre>
                    <h3>Geolocation</h3>
                    <li>The Geolocation API is used to obtain the geographical position of the
                        device</li>
<pre>
navigator.geolocation.getCurrentPosition(youAreHere);
function youAreHere(position) {
    console.log(`Latitude: ${position.coords.latitude}, Longitude: ${position.c}
    </pre>
                    <li>The <span class="mono">position</span> object has several other properties</li>
                    <ul>
                        <li><span class="mono">position.speed</span> property returns the ground speed of the device in
                            meters per second</li>
                        <li><span class="mono">position.altitude</span> property returns an estimate of the device’s
                            altitude
                            in meters</li>
                        <li><span class="mono">position.heading</span> property returns the direction the device is
                            moving
                            in. This is measured as a bearing in degrees, clockwise from North.</li>
                        <li><span class="mono">position.timestamp</span> property returns the time that the position
                            information was recorded</li>
                    </ul>
                    <h3>Web Workers</h3>
                    <li>JavaScript is a single-threaded language,
                        meaning that only one process can run at one time. Web workers allow
                        processes to be run in the background, adding support for concurrency in
                        JavaScript.</li>
                    <li>A Factorizing Example</li>
                    <button id='rainbow' class="exbutton">Change Background</button>
                    <button id="backtowhite" class="exbutton">Back to White Background</button>
                    <br><br>
                    <form>
                    <label for='number'>Enter a Number to Factorize:</label>
                    <input id='number' type='number' name='number' min=1 value='20'>
                    <button type='submit' id="factorizesub" class="exbutton">Submit</button>
                    </form>
                    <div id='output' class="factOut2"></div>
                    <li>Shared Web Workers</li>
                    <li>Service Workers</li>
                    <h3>Websockets</h3>
                    <li>Websocket is a new protocol that allows two-way communication with a
                        server – also known as push messaging. This means that a connection is kept
                        open and responses are ‘pushed’ to the client as soon as they are received.</li>
                    <h3>Notifications</h3>
                    <li>The Notification API allows you to show messages using the system's
                        notifications. This is usually a popup in the corner of the screen, but it
                        changes depending on the operating system. An advantage of using the
                        system notification is that they will still be displayed even if the web page
                        that calls them isn't the current tab.
                        </li>
                    <li>you need to get permission granted by the user</li>
                    <pre>
if(window.Notification) {
    Notification.requestPermission();
    }</pre>
                    <h3>Multimedia</h3>
                    <li>Audio</li>
                    <audio src='./audio.mp3' controls>
                        Your browser does not support the audio element.
                        </audio>
                    <li>Video | Iframe is used though</li>
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/b165xRXy2Oc" title="YouTube video player" frameborder="0" >
                    </iframe>
                    <h3>Drawing with Canvas</h3>
                    <li>The canvas element was introduced to allow graphics to be drawn onto a web
                        page in real time using JavaScript. A canvas element is a rectangular element
                        on the web page. It has a coordinate system that starts at (0,0) in the top-left
                        corner.</li>
                    <canvas id='canvas' width='400' height='300' style="border: dotted 2px #333; box-shadow: #333 1px 1px 10px">Sorry, but your browser doesn't support canvas</canvas>
                    <h3>Shims and Polyfills</h3>
                    <li>A shim or polyfill is a piece of code that adds support of missing
                        features to older browsers</li>
                        <a target="_blank" class="reglink" href="https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-Browser-Polyfills">HTML5 Cross Browser Polyfills</a>
                    
        </ul>
        <h1 id="week5.2">Chapter 12: Canvas, SVG, and Drag and Drop | HTML5 & CSS3 For the real world</h1>
        <h2>SVG</h2>
        <svg width="200" height="100" xmlns="http://www.w3.org/2000/svg">
            <desc>Drawing a rectangle</desc>
            <rect x="20" y="20" width="50" height="50" fill="cyan" stroke="crimson" stroke-width="10" />
        </svg>  
        <h2>Drag & Drop</h2>
        <hint id="dad" class="hint">Place the image into the box</hint><br><br>
        <div id="div1" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
        <img id="drag1" src="./dAd.jpg" draggable="true" ondragstart="drag(event)" width="300" height="100">
        <br><br><br><br>
        
        <hint id="dad2">Drag the image back and forth between the two div elements.</hint>
        <br><br>
            <div id="div21" ondrop="drop2(event)" ondragover="allowDrop2(event)">
                <img src="./dAd.jpg" draggable="true" ondragstart="drag2(event)" id="drag2" width="300" height="100">
            </div>
                <div id="div22" ondrop="drop2(event)" ondragover="allowDrop2(event)">
            </div>
    </section>
    <a href="../portfolioWDD330.html">↩ Back to Main</a>
    <br><br>
    <script>
        const btn = document.getElementById('rainbow');
        const rainbow = ['red','orange','yellow','green','blue','rebeccapurple','violet'];   
        function change() {
            document.body.style.background = rainbow[Math.floor(7*
            Math.random())];
        }
        btn.addEventListener('click', change);
        const btwbtn = document.getElementById('backtowhite');
        function towhite() {
            document.body.style.background = 'white';
        }
        btwbtn.addEventListener('click', towhite);


        const form = document.forms[0];
        form.addEventListener('submit', factorize, false);
        function factorize(event) {
        // prevent the form from being submitted
        event.preventDefault();
        const number = Number(form.number.value);
        document.getElementById('output').innerText = factorsOf(number);
        }
        function factorsOf(n) {
        if(Number.isNaN(Number(n))) {
        throw new RangeError('Argument Error: Value must be an integer');
        }
        if(n < 0) {
        throw new RangeError('Argument Error: Number must be positive');
        }
        if(!Number.isInteger(n)) {
        throw new RangeError('Argument Error: Number must be an integer');
        }
        const factors = [];
        for (let i=1 , max = Math.sqrt(n); i <= max ; i++) {
        if (n%i === 0){
        factors.push(i,n/i);
        }
        }
        return factors.sort((a,b) => a - b);
        }
        // canvas
        const canvasElement = document.getElementById('canvas');
        const context = canvasElement.getContext('2d');
        context.fillStyle = "rgba(0, 0, 255, 0.5)";
        context.strokeStyle = "crimson";

        context.lineWidth = 4;
        context.fillRect(10,10,100,50);
        context.strokeRect(10,100,100,50);

        context.beginPath();
        context.moveTo(130, 50);
        context.lineTo(180, 50);
        context.moveTo(155, 50);
        context.lineTo(155, 90);
        context.strokeStyle = '#c00';
        context.lineWidth = 15;
        context.stroke();

        context.beginPath();
        context.arc(200, 200, 30, 0, Math.PI * 2, false);
        context.strokeStyle = '#ff0';
        context.lineWidth = 4;
        context.stroke();

        context.fillStyle = '#0c0'; // a blue fill color
        context.font = 'bold 26px sans-serif';
        context.fillText('Hello', 20, 200);

        // drag and drop

        function allowDrop(ev) {
        ev.preventDefault();
        }

        function drag(ev) {
        ev.dataTransfer.setData("text", ev.target.id);
        }

        function drop(ev) {
        ev.preventDefault();
        var data = ev.dataTransfer.getData("text");
        ev.target.appendChild(document.getElementById(data));
        document.getElementById('dad').innerText='You successfully dragged and droppped it!'
        }

        // drag and drop back and forth
        function allowDrop2(ev) {
        ev.preventDefault();
        }

        function drag2(ev) {
        ev.dataTransfer.setData("text", ev.target.id);
        let randomhint = ['stop dragging me!','ok, one more time ;)','and here we go','cool, right?','put me back!','who let you touch me?']
        document.getElementById('dad2').innerText= randomhint[Math.floor(6*
            Math.random())];
        }

        function drop2(ev) {
        ev.preventDefault();
        var data = ev.dataTransfer.getData("text");
        ev.target.appendChild(document.getElementById(data));
        }
    </script>
</body>

</html>